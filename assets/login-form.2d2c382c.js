import{B as b,C as w,r as x,j as o,a as s,L as k,E as C,Q as l}from"./index.20e87095.js";import{T as n}from"./Textinput.6916a31d.js";import{u as v}from"./index.esm.73e0e06c.js";import{c as y,a as c,o as S}from"./object.81a91c12.js";import{C as N}from"./Checkbox.1200324a.js";const O=y({email:c().email("Invalid email").required("Email is Required"),password:c().required("Password is Required")}).required(),B=()=>{const m=b();w(e=>e);const{register:a,formState:{errors:t},handleSubmit:d}=v({resolver:S(O),mode:"all"}),u=async e=>{try{const r=await fetch("https://publish.inct.tech/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailOrUsername:e.email,password:e.password})});if(r.ok){const h=await r.json(),{token:g,user:f}=h;m(C({token:g,user:f,isAuth:!0}))}else l.error("Invalid credentials",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(r){console.error("Error:",r),l.error("An error occurred while logging in",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},[i,p]=x.exports.useState(!1);return o("form",{onSubmit:d(u),className:"space-y-4 ",children:[s(n,{name:"email",label:"email",type:"email",register:a,error:t.email,className:"h-[48px]"}),s(n,{name:"password",label:"passwrod",type:"password",register:a,error:t.password,className:"h-[48px]"}),o("div",{className:"flex justify-between",children:[s(N,{value:i,onChange:()=>p(!i),label:"Keep me signed in"}),o(k,{to:"/forgot-password",className:"text-sm text-slate-800 dark:text-slate-400 leading-6 font-medium",children:["Forgot Password?"," "]})]}),s("button",{className:"btn btn-dark block w-full text-center",children:"Sign in"})]})};export{B as L};
