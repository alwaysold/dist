import{B as h,r as g,G as b,j as f,a as s,H as w,Q as i}from"./index.897e4e8e.js";import{T as l}from"./Textinput.f20201e6.js";import{u as y}from"./index.esm.0fbb69bd.js";import{c as C,a,b as v,o as x}from"./object.ce7906c6.js";import{C as P}from"./Checkbox.aaef9b18.js";const k=C({name:a().required("Name is Required"),email:a().email("Invalid email").required("Email is Required"),password:a().min(6,"Password must be at least 8 characters").max(20,"Password shouldn't be more than 20 characters").required("Please enter password"),confirmpassword:a().oneOf([v("password"),null],"Passwords must match")}).required(),j=()=>{const c=h(),[n,m]=g.exports.useState(!1),{register:o,formState:{errors:t},handleSubmit:u}=y({resolver:x(k),mode:"all"}),p=b();return f("form",{onSubmit:u(async e=>{try{const r=await fetch("https://publish.inct.tech/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:e.name,email:e.email,password:e.password,username:e.username||e.email.split("@")[0]})});if(console.log(r),r.ok){const d=await r.json();c(w(d)),i.success("Registration successful",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout(()=>{p("/login")},150)}else i.error("Registration failed",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(r){console.error("Error:",r),i.error("An error occurred while registering",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}}),className:"space-y-5 ",children:[s(l,{name:"name",label:"name",type:"text",placeholder:" Enter your name",register:o,error:t.name,className:"h-[48px]"})," ",s(l,{name:"email",label:"email",type:"email",placeholder:" Enter your email",register:o,error:t.email,className:"h-[48px]"}),s(l,{name:"password",label:"passwrod",type:"password",placeholder:" Enter your password",register:o,error:t.password,className:"h-[48px]"}),s(P,{label:"You accept our Terms and Conditions and Privacy Policy",value:n,onChange:()=>m(!n)}),s("button",{className:"btn btn-dark block w-full text-center",children:"Create an account"})]})};export{j as R};
